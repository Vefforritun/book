<!DOCTYPE html>
<!--
  Velkominn ferðalangur, bakvið tjöldin, í uppsprettuna.
  Þetta HTML er sjálfkrafa útbúið út frá Markdown skjölum.
  Sjá nánar:
  https://github.com/vefforritun/book
  -->
<html lang="is">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Vefforitun—Kafli 9: Sértækni & flóðið</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main>
      <header>
        <h1>Kafli 9: Sértækni & flóðið</h1>
        <div class="reading-time">Um 4 mín lestur</div>
      </header>

      <article>
        <div class="paragraphs">
          <p>
            Þegar við erum búin að skrifa CSS og velja element með selectorum,
            gefa þeim gildi o.s.fr., hvernig veit vafrinn nákvæmlega hvaða gildi
            fyrir hvert eigindi eigi að nota þegar útlitið er teiknað? Þá koma
            tvö hugtök til tals: sértækni (e. specificity) og „flóðið“ (e.
            the&nbsp;cascade).
          </p>
        </div>
        <h2 id="9.1">
          <span>
            <a href="#9.1">9.1</a>
          </span>
          Sértækni
        </h2>
        <div class="paragraphs">
          <p>
            Fyrir allar CSS reglur og fyrir hvern selector er reiknað
            <em>sértækni</em> (e. specifitcy) sem er á forminu
            <code>a,b,c,d</code> þar&nbsp;sem:
          </p>
        </div>
        <ul>
          <li>
            <code>a</code>, 1 ef skilgreint í <code>style</code> attribute,
            annars&nbsp;0
          </li>
          <li><code>b</code>, fjöldi <code>id</code> selectora</li>
          <li>
            <code>c</code>, fjöldi attribute selectora og&nbsp;gervi-klasa
          </li>
          <li><code>d</code>, fjöldi elementa og&nbsp;gervi-elementa</li>
        </ul>
        <div class="paragraphs">
          <p>
            Við fáum síðan gildi með því að skeyta gildinu saman í tölu sem er
            sértækni&nbsp;gildið.
          </p>
        </div>
        <div class="code code-css">
          <table class="code-table">
            <tr>
              <td class="line-number" data-pseudo-content="1"></td>
              <td>
                <pre>li.first                 /* a=0 b=0 c=1 d=1 → 11 */</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="2"></td>
              <td>
                <pre>.item .link:active       /* a=0 b=0 c=3 d=0 → 30 */</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="3"></td>
              <td>
                <pre>#main                    /* a=0 b=1 c=0 d=0 → 100 */</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="4"></td>
              <td>
                <pre>
style=&quot;&quot; beint á element /* a=1 b=0 c=0 d=0 → 1000 */</pre
                >
              </td>
            </tr>
          </table>
        </div>
        <div class="paragraphs">
          <p>
            Þetta gildi, ásamt öðru, ræður því hvaða reglur eru notaðar fyrir
            hvert eigindi. Hærra sértækni gildi þýðir að líklegra er að sú regla
            sé notuð. Eins og sést er ID selector með næst hæsta sértækni gildið
            og er því óæskilegt að nota þessa selectora nema í sérstökum
            tilvikum. Sama gildir um CSS skilgreint í
            <code>style</code> attribute á&nbsp;elementi.
          </p>
        </div>
        <h2 id="9.2">
          <span>
            <a href="#9.2">9.2</a>
          </span>
          Flóðið
        </h2>
        <div class="paragraphs">
          <p>
            Þegar útlit er sett saman þarf að komast að því
            <em>nákvæmlega</em> hvaða skilgreiningar eigi við fyrir hvert
            element. Þá er „flóðið“ (e. cascade) notað. Þetta er það mikilvægur
            partur af CSS að þetta er það sem fyrsti stafurinn stendur fyrir:
            <em>Cascading</em> Style Sheets. Skilgreiningar geta komið frá
            þremur&nbsp;stöðum:
          </p>
        </div>
        <ul>
          <li>
            <em>User&nbsp;agent</em>, tæki sem birtir (yfirleitt af vafra) ef
            það skilgreinir sjálfgefna&nbsp;stíla.
          </li>
          <li>
            <em>Notanda</em>, notandi tækis getur skilgreint með stillingum
            hvernig hlutir líta út, t.d. að allt sé&nbsp;stækkað.
          </li>
          <li>
            <em>Höfundi</em>, skilgreiningar frá höfundi vefs, yfirleitt okkar
            sem&nbsp;vefforritara.
          </li>
        </ul>
        <div class="paragraphs">
          <p>
            Eftir að allt CSS hefur verið lesið frá öllum upprunum er
            skilgreiningum raðað&nbsp;eftir:
          </p>
        </div>
        <ol>
          <li>Skilgreiningum user&nbsp;agents</li>
          <li>Skilgreiningum&nbsp;notanda</li>
          <li>Skilgreiningum&nbsp;höfundar</li>
          <li>Skilgreiningum höfundar merktar með <code>!important</code></li>
          <li>Skilgreiningum notanda merktar með <code>!important</code></li>
          <li>Sértækni</li>
          <li>
            Skilgreiningar röð innan skjals þar sem seinna skilgreint fær
            hærra&nbsp;gildi
          </li>
        </ol>
        <div class="paragraphs">
          <p>
            Þessi röðun er síðan notuð til að reikna hvaða gildi hver
            yfirlýsing&nbsp;fær.
          </p>
        </div>
        <h3 id="9.2.1">
          <span>
            <a href="#9.2.1">9.2.1</a>
          </span>
          <code>!important</code>
        </h3>
        <div class="paragraphs">
          <p>
            Með því að skilgreina <code>!important</code> á yfirlýsingar höfum
            við áhrif á það hvar í röðinni yfirlýsingin lendir. Þetta gæti
            hljómað sem góð hugmynd en í raun er hún það ekki. Yfirlýsingar með
            <code>!important</code> hunsa sértækni gildi og skilgreiningar röð.
            Þær vinna því gegn almennu reglunni um það hvernig gildi eru reiknuð
            og geta valdið&nbsp;rugling.
          </p>
        </div>
        <div class="code code-css">
          <table class="code-table">
            <tr>
              <td class="line-number" data-pseudo-content="1"></td>
              <td>
                <pre><span class="hljs-selector-tag">div</span> {</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="2"></td>
              <td>
                <pre>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">100px</span> <span class="hljs-meta">!important</span>;</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="3"></td>
              <td>
                <pre>  <span class="hljs-comment">/* það er mjög mikilvægt að allur texti sé 100px! */</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="4"></td>
              <td><pre>}</pre></td>
            </tr>
          </table>
        </div>
        <div class="paragraphs">
          <p>
            Ef tveir eða fleiri aðilar vinna í sama CSS verkefni sem spannar
            hugsanlega fleiri skrár, og aðili lendir í einhverjum vandræðum með
            að fá rétt gildi með því að nota selectora og setur
            <code>!important</code> á yfirlýsingu. Næsti aðili hefur verið að
            nota rétta selectora til að fá fram útlit en allt í einu hætta þær
            skilgreiningar að vera réttar því <code>!important</code> gildi
            tekur yfir skilgreiningar. Þarf þá að skoða öll möguleg skjöl til að
            finna hvaðan gildið&nbsp;kemur.
          </p>
        </div>
        <h3 id="9.2.2">
          <span>
            <a href="#9.2.2">9.2.2</a>
          </span>
          Gildi
        </h3>
        <div class="paragraphs">
          <p>
            Þegar útlit er birt þarf að reikna gildi fyrir allar yfirlýsingar
            sem tæki styður. Til þess er byrjað á að finna skilgreint gildi
            eftir&nbsp;reglu:
          </p>
        </div>
        <ul>
          <li>Ef „flóðið“ gefur okkur gildi, notum&nbsp;það</li>
          <li>Annars, erft&nbsp;gildi</li>
          <li>Annars,&nbsp;upphafsgildi</li>
        </ul>
        <div class="paragraphs">
          <p>
            Sum gildi eru erfð í börnum frá foreldri sínu, þetta sparar okkur
            heilmikla vinnu og lætur CSS virka eins og við myndum gera
            ráð&nbsp;fyrir.
          </p>
        </div>
        <div class="code code-html">
          <table class="code-table">
            <tr>
              <td class="line-number" data-pseudo-content="1"></td>
              <td>
                <pre><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Halló <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>heimur<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></pre>
              </td>
            </tr>
          </table>
        </div>
        <div class="code code-css">
          <table class="code-table">
            <tr>
              <td class="line-number" data-pseudo-content="1"></td>
              <td>
                <pre><span class="hljs-selector-tag">h1</span> { <span class="hljs-attribute">color</span>: blue; }</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="2"></td>
              <td>
                <pre><span class="hljs-comment">/*</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="3"></td>
              <td>
                <pre><span class="hljs-comment">  allur texti innan h1 er blár, líka sá</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="4"></td>
              <td>
                <pre><span class="hljs-comment">  sem er innan em, þar sem color erfist</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="5"></td>
              <td>
                <pre><span class="hljs-comment">*/</span></pre>
              </td>
            </tr>
          </table>
        </div>
        <div class="paragraphs">
          <p>
            Fyrir aðrar yfirlýsingar eru skilgreind upphafsgildi. Þau eru
            yfirleitt rökrétt en stundum geta þau valdið okkur vandræðum,
            sérstaklega þegar við notum <em>shorthand</em>. T.d. er
            <code>background-color</code> með sjálfgefna gildið
            <code>transparent</code>, engin&nbsp;bakgrunnslitur.
          </p>
          <p>
            Þegar komið er að því að fá raun gildi er það fengið með
            eftirfarandi&nbsp;reglu:
          </p>
        </div>
        <ul>
          <li>
            Reiknað gildi – reiknað úr hlutfallslegum gildum eins langt og hægt
            er, t.d. hlutfallsleg breidd m.v.&nbsp;foreldri
          </li>
          <li>
            Notað gildi – fáum nákvæm gildi úr öllum, leyst úr háðum&nbsp;gildum
          </li>
          <li>
            Raun gildi – gildi notað við birtingu, t.d. þarf að námunda tölur að
            einhverjum&nbsp;aukastaf
          </li>
        </ul>

        <div class="code code-html">
          <table class="code-table">
            <tr>
              <td class="line-number" data-pseudo-content="1"></td>
              <td>
                <pre><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="2"></td>
              <td>
                <pre>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>halló<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="3"></td>
              <td>
                <pre><span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></pre>
              </td>
            </tr>
          </table>
        </div>
        <div class="code code-css">
          <table class="code-table">
            <tr>
              <td class="line-number" data-pseudo-content="1"></td>
              <td>
                <pre><span class="hljs-selector-tag">html</span> {</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="2"></td>
              <td>
                <pre>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">10px</span>;</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="3"></td>
              <td><pre>}</pre></td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="4"></td>
              <td><pre></pre></td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="5"></td>
              <td>
                <pre><span class="hljs-selector-tag">section</span> {</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="6"></td>
              <td>
                <pre>  <span class="hljs-attribute">width</span>: <span class="hljs-number">10em</span>;</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="7"></td>
              <td>
                <pre>  <span class="hljs-comment">/* reiknað, notað og raun gildi: 10px * 10 = 100px */</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="8"></td>
              <td><pre>}</pre></td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="9"></td>
              <td><pre></pre></td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="10"></td>
              <td>
                <pre><span class="hljs-selector-tag">div</span> {</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="11"></td>
              <td>
                <pre>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="12"></td>
              <td>
                <pre>  <span class="hljs-comment">/* reiknað, notað og raun gildi: 10px * 2 = 20px */</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="13"></td>
              <td><pre></pre></td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="14"></td>
              <td>
                <pre>  <span class="hljs-attribute">border</span>: <span class="hljs-number">0.01em</span> solid black;</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="15"></td>
              <td>
                <pre>  <span class="hljs-comment">/*</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="16"></td>
              <td>
                <pre><span class="hljs-comment">  reiknað og notað gildi: 0.01 * 20px = 0.2px</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="17"></td>
              <td>
                <pre><span class="hljs-comment">  raun gildi: 1px, rúnað upp</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="18"></td>
              <td>
                <pre><span class="hljs-comment">  */</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="19"></td>
              <td><pre></pre></td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="20"></td>
              <td>
                <pre>  <span class="hljs-attribute">width</span>: auto;</pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="21"></td>
              <td>
                <pre>  <span class="hljs-comment">/*</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="22"></td>
              <td>
                <pre><span class="hljs-comment">  reiknað gildi: auto</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="23"></td>
              <td>
                <pre><span class="hljs-comment">  notað gildi: 100px, búið að reikna section</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="24"></td>
              <td>
                <pre><span class="hljs-comment">  raun gildi: 98px, út frá box model og border</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="25"></td>
              <td>
                <pre><span class="hljs-comment">  */</span></pre>
              </td>
            </tr>
            <tr>
              <td class="line-number" data-pseudo-content="26"></td>
              <td><pre>}</pre></td>
            </tr>
          </table>
        </div>
      </article>

      <footer>
        <nav>
          <ul>
            <li class="prev">
              <p><a href="./08.css-box-model.html">Box&nbsp;model</a></p>
            </li>
            <li class="index"><a href="/">Efnisyfirlit</a></li>
            <li class="next">
              <p>
                <a href="./10.css-best-practices.html">Að skrifa&nbsp;CSS</a>
              </p>
            </li>
          </ul>
        </nav>
        <hr />
        <div class="version">Útgáfa 0.3, ágúst 2020</div>
      </footer>
    </main>
  </body>
</html>
